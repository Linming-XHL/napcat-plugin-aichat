# NapCat AIèŠå¤©æ’ä»¶

ä¸€ä¸ªä¸ºNapCatæ·»åŠ AIèŠå¤©åŠŸèƒ½çš„æ’ä»¶ï¼Œæ”¯æŒ@è§¦å‘ã€ç¾¤èŠé™åˆ¶å’Œé™é¢‘åŠŸèƒ½ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
napcat-plugin-template/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts              # æ’ä»¶å…¥å£ï¼Œå¯¼å‡ºç”Ÿå‘½å‘¨æœŸå‡½æ•°
â”‚   â”œâ”€â”€ config.ts             # é…ç½®å®šä¹‰å’Œ WebUI Schema
â”‚   â”œâ”€â”€ types.ts              # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ state.ts          # å…¨å±€çŠ¶æ€ç®¡ç†å•ä¾‹
â”‚   â”œâ”€â”€ handlers/
â”‚   â”‚   â””â”€â”€ message-handler.ts # æ¶ˆæ¯å¤„ç†å™¨ï¼ˆå‘½ä»¤è§£æã€CD å†·å´ã€æ¶ˆæ¯å·¥å…·ï¼‰
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ api-service.ts    # WebUI API è·¯ç”±ï¼ˆæ— è®¤è¯æ¨¡å¼ï¼‰
â”‚   â””â”€â”€ webui/                # React SPA å‰ç«¯ï¼ˆç‹¬ç«‹æ„å»ºï¼‰
â”‚       â”œâ”€â”€ index.html
â”‚       â”œâ”€â”€ package.json
â”‚       â”œâ”€â”€ vite.config.ts
â”‚       â”œâ”€â”€ tailwind.config.js
â”‚       â”œâ”€â”€ tsconfig.json
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ App.tsx           # åº”ç”¨æ ¹ç»„ä»¶ï¼Œé¡µé¢è·¯ç”±
â”‚           â”œâ”€â”€ main.tsx          # React å…¥å£
â”‚           â”œâ”€â”€ index.css         # TailwindCSS + è‡ªå®šä¹‰æ ·å¼
â”‚           â”œâ”€â”€ types.ts          # å‰ç«¯ç±»å‹å®šä¹‰
â”‚           â”œâ”€â”€ vite-env.d.ts     # Vite ç¯å¢ƒå£°æ˜
â”‚           â”œâ”€â”€ utils/
â”‚           â”‚   â””â”€â”€ api.ts        # API è¯·æ±‚å°è£…ï¼ˆnoAuthFetch / authFetchï¼‰
â”‚           â”œâ”€â”€ hooks/
â”‚           â”‚   â”œâ”€â”€ useStatus.ts  # çŠ¶æ€è½®è¯¢ Hook
â”‚           â”‚   â”œâ”€â”€ useTheme.ts   # ä¸»é¢˜åˆ‡æ¢ Hook
â”‚           â”‚   â””â”€â”€ useToast.ts   # Toast é€šçŸ¥ Hook
â”‚           â”œâ”€â”€ components/
â”‚           â”‚   â”œâ”€â”€ Sidebar.tsx       # ä¾§è¾¹æ å¯¼èˆª
â”‚           â”‚   â”œâ”€â”€ Header.tsx        # é¡µé¢å¤´éƒ¨
â”‚           â”‚   â”œâ”€â”€ ToastContainer.tsx # Toast é€šçŸ¥å®¹å™¨
â”‚           â”‚   â””â”€â”€ icons.tsx         # SVG å›¾æ ‡ç»„ä»¶
â”‚           â””â”€â”€ pages/
â”‚               â”œâ”€â”€ StatusPage.tsx  # ä»ªè¡¨ç›˜é¡µé¢
â”‚               â”œâ”€â”€ ConfigPage.tsx  # é…ç½®ç®¡ç†é¡µé¢
â”‚               â””â”€â”€ GroupsPage.tsx  # ç¾¤ç®¡ç†é¡µé¢
â”œâ”€â”€ .github/
â”‚   â”œâ”€â”€ workflows/
â”‚   â”‚   â””â”€â”€ release.yml        # CI/CD è‡ªåŠ¨æ„å»ºå‘å¸ƒ
â”‚   â”œâ”€â”€ prompt/
â”‚   â”‚   â”œâ”€â”€ default.md             # é»˜è®¤ Release Note æ¨¡æ¿ï¼ˆå›é€€ç”¨ï¼‰
â”‚   â”‚   â””â”€â”€ ai-release-note.md     # ï¼ˆå¯é€‰ï¼‰AI Release Note è‡ªå®šä¹‰ Prompt
â”‚   â””â”€â”€ copilot-instructions.md  # Copilot ä¸Šä¸‹æ–‡è¯´æ˜
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts             # Vite æ„å»ºé…ç½®ï¼ˆå«èµ„æºå¤åˆ¶æ’ä»¶ï¼‰
â””â”€â”€ README.md
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 2. æ„å»ºæ’ä»¶

```bash
# å®Œæ•´æ„å»ºï¼ˆè‡ªåŠ¨æ„å»º WebUI å‰ç«¯ + åç«¯ + èµ„æºå¤åˆ¶ï¼Œä¸€æ­¥å®Œæˆï¼‰
pnpm run build
```

### 3. éƒ¨ç½²æ’ä»¶

å°† `dist/` ç›®å½•çš„å†…å®¹å¤åˆ¶åˆ° NapCat çš„æ’ä»¶ç›®å½•å³å¯ã€‚

### 4. é…ç½®æ’ä»¶

åœ¨ NapCat WebUI ä¸­æ‰¾åˆ°æœ¬æ’ä»¶ï¼Œè¿›å…¥é…ç½®é¡µé¢ï¼Œè®¾ç½®ä»¥ä¸‹å‚æ•°ï¼š

- **API åœ°å€**: AIæœåŠ¡çš„APIåœ°å€ï¼Œé»˜è®¤ä¸º `https://api.openai.com/v1/chat/completions`
- **API Key**: AIæœåŠ¡çš„APIå¯†é’¥
- **æ¨¡å‹åç§°**: ä½¿ç”¨çš„AIæ¨¡å‹åç§°ï¼Œé»˜è®¤ä¸º `gpt-3.5-turbo`
- **ç³»ç»Ÿæç¤ºè¯**: AIçš„ç³»ç»Ÿæç¤ºè¯ï¼Œç”¨äºå®šä¹‰AIçš„è§’è‰²å’Œè¡Œä¸ºï¼Œé»˜è®¤ä¸º `ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œå¸®åŠ©ç”¨æˆ·è§£ç­”é—®é¢˜ã€‚`
- **ä¸Šä¸‹æ–‡é•¿åº¦**: ä¸Šä¸‹æ–‡é•¿åº¦ï¼ŒèŒƒå›´1-128KBï¼Œç”¨äºæ§åˆ¶AIçš„å¯¹è¯è®°å¿†ï¼Œé»˜è®¤ä¸º 10KB
- **é™é¢‘è®¾ç½®**: ä¸€åˆ†é’Ÿæœ€å¤§è°ƒç”¨æ¬¡æ•°ï¼Œ-1 è¡¨ç¤ºç¦ç”¨
- **ä¸»äººQQåˆ—è¡¨**: é¢å¤–é…ç½®çš„å¯ä»¥ç¦ç”¨æˆ–å¯ç”¨AIåŠŸèƒ½çš„QQï¼Œå¤šä¸ªç”¨é€—å·åˆ†éš”

## ğŸ¯ åŠŸèƒ½è¯´æ˜

### 1. AIèŠå¤©åŠŸèƒ½

- **è§¦å‘æ–¹å¼**: åœ¨ç¾¤èŠä¸­@æœºå™¨äººï¼Œç„¶åè¾“å…¥ä½ çš„é—®é¢˜
- **ä½¿ç”¨é™åˆ¶**: ä»…å…è®¸ç¾¤èŠä½¿ç”¨ï¼Œç§èŠä¸å“åº”
- **é™é¢‘è®¾ç½®**: å¯åœ¨æ§åˆ¶å°è®¾ç½®ä¸€åˆ†é’Ÿæœ€å¤§è°ƒç”¨æ¬¡æ•°ï¼Œè¶…è¿‡å°±ä¸å›åº”ï¼Œè®¾ç½®ä¸º-1å°±æ˜¯ç¦ç”¨

### 2. æƒé™ç®¡ç†

ä»¥ä¸‹ç”¨æˆ·å¯ä»¥ç¦ç”¨æˆ–å¯ç”¨AIåŠŸèƒ½ï¼š

- **ç¾¤èŠç¾¤ä¸»**
- **ç¾¤èŠç®¡ç†å‘˜**
- **æ§åˆ¶å°é…ç½®çš„ä¸»äººQQ**

### 3. å‘½ä»¤ä½¿ç”¨

- **å¯ç”¨AIåŠŸèƒ½**: `#cmd ai enable`
- **ç¦ç”¨AIåŠŸèƒ½**: `#cmd ai disable`
- **æŸ¥çœ‹å¸®åŠ©**: `#cmd help`
- **æµ‹è¯•è¿é€šæ€§**: `#cmd ping`
- **æŸ¥çœ‹è¿è¡ŒçŠ¶æ€**: `#cmd status`



## ğŸ“„ è®¸å¯è¯

MIT License
